"use strict";(self.webpackChunkshoghl_app=self.webpackChunkshoghl_app||[]).push([[990],{37211:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(4942),s=n(74165),a=n(15861),i=n(29439),o=n(93433),u=n(47313),c=n(97890),l=n(29466),d=n(32155),f=n(49140),m=n(82303),v=n(77970),p=n(35898),h=n(56352),g="OrderPage_container__oWqm+",x="OrderPage_holder__HSDBH",y=n(14533),Z=n(38605),j=n(47131),T=n(99123),S=n(46417),w=[{id:1,name:"\u0627\u0641\u0631\u0627\u062f",key:"freelancer"},{id:2,name:"\u0634\u0631\u0643\u0627\u062a",key:"compnay"},{id:3,name:"\u0628\u0627\u0644\u0642\u0631\u0628 \u0645\u0646\u064a",key:"near"}],L=function(){var e=(0,u.useState)(!0),t=(0,i.Z)(e,2),n=t[0],L=t[1],b=(0,u.useState)(!1),k=(0,i.Z)(b,2),N=k[0],O=k[1],_=(0,u.useState)("all"),B=(0,i.Z)(_,2),E=B[0],I=B[1],P=(0,c.UO)(),C=(0,c.s0)(),D=(0,h.v9)((function(e){return[e.authentication.loggedIn,e.search]})),F=(0,i.Z)(D,2),A=F[0],M=(F[1],(0,h.v9)((function(e){return e.search.searchKey}))),U=(0,u.useState)(null),q=(0,i.Z)(U,2),H=q[0],V=q[1],W=(0,u.useState)(),z=(0,i.Z)(W,2),K=z[0],Q=z[1],R=(0,u.useState)([]),G=(0,i.Z)(R,2),J=G[0],X=G[1],Y=(0,u.useState)([]),$=(0,i.Z)(Y,2),ee=$[0],te=$[1],ne=(0,u.useState)([]),re=(0,i.Z)(ne,2),se=re[0],ae=re[1],ie=(0,u.useState)(""),oe=(0,i.Z)(ie,2),ue=oe[0],ce=oe[1],le=(0,u.useState)(""),de=(0,i.Z)(le,2),fe=de[0],me=de[1],ve=(0,u.useState)(""),pe=(0,i.Z)(ve,2),he=pe[0],ge=pe[1],xe=(0,u.useState)({freelancer:!1,compnay:!1,near:!1}),ye=(0,i.Z)(xe,2),Ze=ye[0],je=ye[1],Te=(0,u.useRef)(0),Se=(0,u.useMemo)((function(){return clearTimeout(Te.current),Te.current=setTimeout((function(){var e=new FormData;return e.set("perPage",10),e.set("pagination",!0),e.set("search",!0),e.set("name",M),e.set("category",ee),e.set("price",J),e.set("location",ue),f.w._POST_AllOrderListV2(e).then((function(e){Q(e.data.data),ue&&L(!1)})).catch((function(e){return e.response}))}),1e3),function(){return clearTimeout(Te.current)}}),[J,ue,ee,M]);(0,u.useEffect)((function(){var e=setTimeout((function(){return Se}),1200);return function(){return clearTimeout(e)}}),[K,Se]);var we=(0,u.useState)([]),Le=(0,i.Z)(we,2),be=Le[0],ke=Le[1],Ne=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.b.get("coredata/category/list");case 3:n=e.sent,ke((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)||[]),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){Ne()}),[]);var Oe=(0,u.useState)(),_e=(0,i.Z)(Oe,2),Be=_e[0],Ee=_e[1],Ie=(0,u.useMemo)((function(){var e;Ee(null===K||void 0===K||null===(e=K.pagination)||void 0===e?void 0:e.total_pages)}),[null===K||void 0===K?void 0:K.pagination]);(0,u.useEffect)((function(){var e=setTimeout((function(){if(null===K||void 0===K||!K.pagination)return Ie}),1e3);return clearTimeout(e)}),[null===K||void 0===K?void 0:K.pagination,Ie]);return(0,u.useEffect)((function(){ge((function(){return be.filter((function(e){return e.name.includes(fe)}))}))}),[fe,be]),(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).set("perPage",10),t.set("pagination",!0),t.set("page",H||1),t.set("search",!0),t.set("name",M),t.set("category",ee),t.set("price",J),t.set("location",ue),t.set("type_work",E),t.set("freelancer",null===Ze||void 0===Ze?void 0:Ze.freelancer),t.set("compnay",null===Ze||void 0===Ze?void 0:Ze.compnay),t.set("near",null===Ze||void 0===Ze?void 0:Ze.near),e.abrupt("return",f.w._POST_AllOrderListV2(t).then((function(e){Q(e.data.data),ue&&L(!1)})).catch((function(e){return e.response})));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[ee,M,ue,J,H,E,Ze]),(0,u.useEffect)((function(){var e=w.map((function(e){return{key:e.key,value:!!se.find((function(t){return t===(null===e||void 0===e?void 0:e.id)}))}}));e=e.reduce((function(e,t){return Object.assign(e,(0,r.Z)({},t.key,t.value))}),{}),je(e)}),[se]),K?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("div",{className:"d-flex"}),(0,S.jsxs)("header",{className:"d-flex justify-content-between align-items-center d-md-none container mb-3",children:[(0,S.jsx)("p",{className:"m-0",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,S.jsx)(j.Z,{onClick:function(){return O(!0)},className:"p-0",children:(0,S.jsx)("article",{className:"main-bg-color border px-2 py-1 rounded-2",children:(0,S.jsx)(T.Z,{className:"text-light"})})})]}),(0,S.jsxs)("div",{className:x+" d-block d-md-grid",children:[(0,S.jsx)(y.Z,{isOrders:!0,setAttendeesStatus:I,attendeesStatus:E,isFilterOpen:N,setIsFilterOpen:O,mostUse:w,categories:fe?he:be,query:fe,activesId:ee,mostUseId:se,setCategory:function(e){te((function(t){var n=(0,o.Z)(t);return e.forEach((function(e){var t=n.indexOf(e);t>-1?n.splice(t,1):n.push(e)})),n}))},setPrice:X,setLocation:ce,location:ue,setQuery:me,resetCateg:function(){te([])},resetMost:function(){ae([])},setMostUseId:ae}),0===K.length||n?(0,S.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100  ",style:{height:"100vh "},children:[(0,S.jsx)("div",{className:"imLT-main-logo uLT-img-contain uLT-f-radius-sB img-fluid uLT-f-radius-sB",style:{width:"200px",height:"200px"}}),(0,S.jsx)("p",{className:"mb-0 fLT-Bold-sD cLT-gray-text",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0637\u0644\u0628\u0640\u0640\u0640\u0640\u0627\u062a"})]}):(0,S.jsx)("div",{className:"cLT-white-bg p-3 ",children:null===K||void 0===K?void 0:K.map((function(e,t){var n;return(0,S.jsxs)(l.OL,{className:"card px-3 pt-3 mb-3 uLT-f-radius-sB uLT-list-style",to:"/orders/order-details/".concat(e.id),children:[(0,S.jsx)(d.Z,{roll:A,offer:e,isOrder:!0,amentiesSelector:(0,S.jsx)(m.Z,{orderData:e,amentiesWithIcon:"orderAmenties"}),orderDescription:null===e||void 0===e?void 0:e.description,orderTitle:null===e||void 0===e?void 0:e.name,orderStyle:"uLT-bd-b-platinum-sA",orderStatus:null===e||void 0===e||null===(n=e.status)||void 0===n?void 0:n.name})," "]},t)}))})]}),(0,S.jsx)("div",{className:"container d-flex justify-content-center pt-4 pb-3 mt-auto",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(v.Z,{dir:"rtl",showFirstButton:!0,showLastButton:!0,count:Be,page:parseInt(null===P||void 0===P?void 0:P.num),onChange:function(e,t){V(P.num),C("/orders/page=".concat(t)),window.scrollTo({top:0,behavior:"smooth"})},size:"large"})})})]})}):(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center w-100 ",style:{height:"100vh"},children:(0,S.jsx)("div",{className:"imLT-main-logo uLT-img-contain uLT-f-radius-sB img-fluid uLT-f-radius-sB",style:{width:"200px",height:"200px"}})})}}}]);